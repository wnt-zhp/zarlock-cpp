IF (PROJECT_SOURCE_DIR)
	SET(CMAKE_CURRENT_SOURCE_DIR ${PROJECT_SOURCE_DIR})
ENDIF (PROJECT_SOURCE_DIR)

# see http://www.cmake.org/Wiki/CMake:CPackPackageGenerators#RPM_.28Unix_Only.29
# for more info
# SET(CPACK_PACKAGE_FILE_NAME "dist/zarlok")

MESSAGE (STATUS "Release version: " @RELEASE_VERSION@)
#MESSAGE (STATUS ${CMAKE_CURRENT_SOURCE_DIR})
#MESSAGE (STATUS "Release number : " ${CPACK_PACKAGE_VERSION})
#MESSAGE (STATUS "Generator: " ${CMAKE_GENERATOR})

SET(CPACK_INSTALL_CMAKE_PROJECTS "${CMAKE_CURRENT_BINARY_DIR};zarlok;ALL;/")
#SET(CPACK_SYSTEM_NAME "Win32")
#SET(CPACK_TOPLEVEL_TAG "Win32")

#SET(PACKAGE_ARCHITECTURE "amd64")

SET(CPACK_GENERATOR NSIS)
SET(CPACK_PACKAGE_VENDOR "Wydział Nowych Technologi, Główna Kwatera Związku Harcerstwa Polskiego")
SET(CPACK_PACKAGE_DESCRIPTION_SUMMARY "The Zarlok is the food resource management application.")
SET(CPACK_PACKAGE_NAME "zarlok")
SET(CPACK_PACKAGE_VERSION "@RELEASE_VERSION@")
#SET(CPACK_PACKAGE_VERSION "${RELEASE_VERSION}")
SET(CPACK_PACKAGE_CONTACT "Rafal Lalik <Rafal.Lalik@zhp.net.pl>")
SET(CPACK_RESOURCE_FILE_LICENSE ${CMAKE_CURRENT_SOURCE_DIR}/src/dist/gpl-3.0.txt)

SET(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_CURRENT_SOURCE_DIR}/COPYING")
SET(CPACK_RESOURCE_FILE_README "${CMAKE_CURRENT_SOURCE_DIR}/README")
SET(CPACK_RESOURCE_FILE_WELCOME "${CMAKE_CURRENT_SOURCE_DIR}/NEWS")

#SET(CPACK_PACKAGE_FILE_NAME ${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-${CPACK_SYSTEM_NAME})
#SET(CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_FILE_NAME}.${PACKAGE_ARCHITECTURE}")


INCLUDE(CPack)

#add_dependencies(package distprepare)