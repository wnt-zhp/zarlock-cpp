IF (ZARLOK_SOURCE_DIR)
	SET(CMAKE_CURRENT_SOURCE_DIR ${ZARLOK_SOURCE_DIR})
ENDIF (ZARLOK_SOURCE_DIR)

# see http://www.cmake.org/Wiki/CMake:CPackPackageGenerators#RPM_.28Unix_Only.29
# for more info
# SET(CPACK_PACKAGE_FILE_NAME "dist/zarlok")

MESSAGE (STATUS "Release version: " @RELEASE_VERSION@)
#MESSAGE (STATUS ${CMAKE_CURRENT_SOURCE_DIR})
#MESSAGE (STATUS "Release number : " ${CPACK_PACKAGE_VERSION})
#MESSAGE (STATUS "Generator: " ${CMAKE_GENERATOR})

SET(CPACK_INSTALL_CMAKE_PROJECTS "${CMAKE_CURRENT_BINARY_DIR};zarlok;ALL;/")
SET(CPACK_SYSTEM_NAME "Linux")
SET(CPACK_TOPLEVEL_TAG "Linux")

SET(PACKAGE_ARCHITECTURE "amd64")

SET(CPACK_GENERATOR RPM DEB TBZ2)
SET(CPACK_PACKAGE_VENDOR "Wydział Nowych Technologi, Główna Kwatera Związku
Harcerstwa Polskiego")
SET(CPACK_PACKAGE_DESCRIPTION_SUMMARY "The Zarlok is the food resource management application.")
SET(CPACK_PACKAGE_NAME "zarlok")
SET(CPACK_PACKAGE_VERSION "@RELEASE_VERSION@")
#SET(CPACK_PACKAGE_VERSION "${RELEASE_VERSION}")
SET(CPACK_PACKAGE_CONTACT "Rafal Lalik <Rafal.Lalik@zhp.net.pl>")
SET(CPACK_RESOURCE_FILE_LICENSE ${CMAKE_CURRENT_SOURCE_DIR}/src/dist/gpl-3.0.txt)

SET(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_CURRENT_SOURCE_DIR}/COPYING")
SET(CPACK_RESOURCE_FILE_README "${CMAKE_CURRENT_SOURCE_DIR}/README")
SET(CPACK_RESOURCE_FILE_WELCOME "${CMAKE_CURRENT_SOURCE_DIR}/NEWS")

#SET(CPACK_PACKAGE_FILE_NAME ${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION}-${CPACK_SYSTEM_NAME})
#SET(CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_FILE_NAME}.${PACKAGE_ARCHITECTURE}")


# deb
SET(CPACK_DEBIAN_PACKAGE_DEPENDS "libc6 (>= 2.10), libstdc++6 (>= 4.4.0), libqtcore4 (>= 4:4.8.0), libqtgui4 (>= 4:4.8.0), libqt4-network (>= 4:4.8.0), libqt4-sql-sqlite (>= 4:4.8.0)")
SET(CPACK_DEBIAN_PACKAGE_ARCHITECTURE "amd64")


#rpm
SET(CPACK_RPM_PACKAGE_ARCHITECTURE "x86_64")
SET(CPACK_RPM_PACKAGE_RELEASE 1)
SET(CPACK_RPM_PACKAGE_LICENSE "GPL")
SET(CPACK_RPM_PACKAGE_GROUP "abc")
SET(CPACK_RPM_PACKAGE_VENDOR "def")


set(CPACK_RPM_PACKAGE_REQUIRES "qt >= 4.8.0")


INCLUDE(CPack)

#add_dependencies(package distprepare)