IF (ZARLOK_SOURCE_DIR)
	SET(CMAKE_CURRENT_SOURCE_DIR ${ZARLOK_SOURCE_DIR})
ENDIF (ZARLOK_SOURCE_DIR)

# see http://www.cmake.org/Wiki/CMake:CPackPackageGenerators#RPM_.28Unix_Only.29
# for more info
# SET(CPACK_PACKAGE_FILE_NAME "dist/zarlok")

MESSAGE (STATUS ${RELEASE_VERSION})
#MESSAGE (STATUS ${CMAKE_CURRENT_SOURCE_DIR})
#MESSAGE (STATUS "Release number : " ${CPACK_PACKAGE_VERSION})
#MESSAGE (STATUS "Generator: " ${CMAKE_GENERATOR})

SET(CPACK_INSTALL_CMAKE_PROJECTS "${CMAKE_CURRENT_BINARY_DIR};zarlok;ALL;/")
SET(CPACK_SYSTEM_NAME "Linux")
SET(CPACK_TOPLEVEL_TAG "Linux")


SET(CPACK_GENERATOR RPM DEB TBZ2)
SET(CPACK_PACKAGE_VENDOR "Wydział Nowych Technologi, Główna Kwatera Związku
Harcerstwa Polskiego")
SET(CPACK_PACKAGE_DESCRIPTION_SUMMARY "fslview - The FSL image viewer")
SET(CPACK_PACKAGE_NAME "zarlok")
SET(CPACK_PACKAGE_VERSION "@RELEASE_VERSION@")
#SET(CPACK_PACKAGE_VERSION "${RELEASE_VERSION}")
SET(CPACK_PACKAGE_CONTACT "Rafal Lalik <Rafal.Lalik@zhp.net.pl>")
SET(CPACK_RESOURCE_FILE_LICENSE ${CMAKE_CURRENT_SOURCE_DIR}/src/dist/gpl-3.0.txt)
# deb
SET(CPACK_DEBIAN_PACKAGE_DEPENDS "qt (>= 4.8.0)")

#rpm
# SET(CPACK_RPM_PACKAGE_ARCHITECTURE "noarch")
SET(CPACK_RPM_PACKAGE_RELEASE 1)
SET(CPACK_RPM_PACKAGE_LICENSE "GPL")
SET(CPACK_RPM_PACKAGE_GROUP "abc")
SET(CPACK_RPM_PACKAGE_VENDOR "def")

set(CPACK_RPM_PACKAGE_REQUIRES "qt >= 4.8.0")


INCLUDE(CPack)

#add_dependencies(package distprepare)